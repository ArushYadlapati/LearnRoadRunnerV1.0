<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Trajectory Sequence | Learn Road Runner</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/LearnRoadRunner/assets/baby/baby-rr.svg">
    <link rel="manifest" href="/LearnRoadRunner/manifest.json">
    <link rel="apple-touch-icon" sizes="180x180" href="/LearnRoadRunner/assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/LearnRoadRunner/assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/LearnRoadRunner/assets/favicons/favicon-16x16.png">
    <link rel="mask-icon" href="/LearnRoadRunner/assets/favicons/safari-pinned-tab.svg" color="#1a56db">
    <link rel="shortcut icon" href="/LearnRoadRunner/assets/favicons/favicon.ico">
    <meta name="description" content="Learn the ins-and-outs of the Road Runner library">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="1a56db">
    <meta name="msapplication-TileColor" content="#1a56db">
    <meta name="msapplication-config" content="/assets/favicons/browserconfig.xml">
    <meta name="theme-color" content="#1a56db">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Learn Road Runner">
    <meta property="og:description" content="Level up your auto.
Road Runner made easy.">
    <meta property="og:image" content="https://www.learnroadrunner.com/assets/baby/baby-rr-150ppi.png">
    <meta property="twitter:card" content="summary">
    <meta property="twitter:title" content="Vue.js">
    <meta property="twitter:description" content="FTC's Road Runner library made easy">
    <meta property="twitter:image" content="https://www.learnroadrunner.com/assets/baby/baby-rr-150ppi.png">
    
    <link rel="preload" href="/LearnRoadRunner/assets/css/0.styles.65dd92f2.css" as="style"><link rel="preload" href="/LearnRoadRunner/assets/js/app.70b0e82d.js" as="script"><link rel="preload" href="/LearnRoadRunner/assets/js/3.cb25a48f.js" as="script"><link rel="preload" href="/LearnRoadRunner/assets/js/52.a8914b8a.js" as="script"><link rel="prefetch" href="/LearnRoadRunner/assets/js/1.841b5210.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/10.c292f533.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/11.6572b6c9.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/12.fbf7d8fe.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/13.8efb3902.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/14.1ae4f896.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/15.94fcc245.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/16.7485b5d2.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/17.8a959bf0.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/18.66d7cf5b.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/19.504d287a.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/20.7b5a0c98.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/21.303fae7d.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/22.7872f33d.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/23.4d855302.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/24.c5319172.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/25.d093b2f1.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/26.97f458db.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/27.8c9b02dc.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/28.d53000bd.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/29.70ada287.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/30.ec2485bf.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/31.eaf62819.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/32.6ca4d50c.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/33.6a148470.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/34.302892f8.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/35.aaca1dc7.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/36.278adaad.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/37.fd8adb56.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/38.dc83b582.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/39.f0aaf84c.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/4.376f9cfe.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/40.42b268e2.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/41.b2e037a1.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/42.781d32ed.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/43.ce0d1bfc.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/44.a156f125.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/45.e9187642.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/46.a2052eee.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/47.8947184e.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/48.c543e155.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/49.f29e5dd6.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/5.95d94c74.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/50.c6a04834.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/51.c9220e12.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/53.e1ef0c00.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/6.09ef5a79.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/7.ec5c5df0.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/8.b346167d.js"><link rel="prefetch" href="/LearnRoadRunner/assets/js/9.4ed43a43.js">
    <link rel="stylesheet" href="/LearnRoadRunner/assets/css/0.styles.65dd92f2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/LearnRoadRunner/" class="home-link router-link-active"><img src="/LearnRoadRunner/assets/baby/baby-rr.svg" alt="Learn Road Runner" class="logo"> <span class="site-name can-hide">Learn Road Runner</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/NoahBres/LearnRoadRunner" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/NoahBres/LearnRoadRunner" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/LearnRoadRunner/" aria-current="page" class="sidebar-link">Migration</a></li><li><a href="/LearnRoadRunner/introduction.html" class="sidebar-link">What is Road Runner?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/introduction.html#frequently-asked-questions" class="sidebar-link">Frequently Asked Questions</a></li></ul></li><li><a href="/LearnRoadRunner/before-you-start.html" class="sidebar-link">Before You Start!</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/before-you-start.html#terms-to-know" class="sidebar-link">Terms to Know</a></li></ul></li><li><a href="/LearnRoadRunner/installing.html" class="sidebar-link">Installing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/installing.html#method-1-downloading-the-quickstart" class="sidebar-link">Method 1: Downloading the Quickstart</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/installing.html#method-2-installing-rr-on-your-project" class="sidebar-link">Method 2: Installing RR on Your Project</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/installing.html#upgrading-firmware" class="sidebar-link">Upgrading Firmware</a></li></ul></li><li><a href="/LearnRoadRunner/quickstart-overview.html" class="sidebar-link">High Level Overview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#what-s-feedforward" class="sidebar-link">What's Feedforward?</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#where-is-drivevelocitypid" class="sidebar-link">Where is DriveVelocityPID?</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#drive-constants" class="sidebar-link">Drive Constants</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#dead-wheels" class="sidebar-link">Dead Wheels</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#localization-test" class="sidebar-link">Localization Test*</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#drivefeedforwardtuner" class="sidebar-link">DriveFeedforwardTuner</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#drivevelocitypidtuner" class="sidebar-link">DriveVelocityPIDTuner</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#straight-test" class="sidebar-link">Straight Test</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#trackwidthtuner" class="sidebar-link">TrackWidthTuner</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#turn-test" class="sidebar-link">Turn Test</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#localization-test-2" class="sidebar-link">Localization Test**</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#followerpidtuner" class="sidebar-link">FollowerPIDTuner</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/quickstart-overview.html#spline-test" class="sidebar-link">Spline Test</a></li></ul></li><li><a href="/LearnRoadRunner/drive-constants.html" class="sidebar-link">Drive Constants</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-constants.html#ticks-per-rev-max-rpm" class="sidebar-link">Ticks Per Rev &amp; Max RPM</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-constants.html#run-using-encoder-motor-velo-pid" class="sidebar-link">Run Using Encoder &amp; Motor Velo PID</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-constants.html#wheel-radius-gear-ratio-trackwidth" class="sidebar-link">Wheel Radius/Gear Ratio/TrackWidth</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-constants.html#kv-ka-kstatic" class="sidebar-link">kV/kA/kStatic</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-constants.html#base-constraints" class="sidebar-link">Base Constraints</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-constants.html#samplemecanumdrive-hardware-id-s" class="sidebar-link">SampleMecanumDrive - Hardware ID's</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-constants.html#samplemecanumdrive-imu-velocity" class="sidebar-link">SampleMecanumDrive - IMU Velocity</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-constants.html#samplemecanumdrive-motor-direction" class="sidebar-link">SampleMecanumDrive - Motor Direction</a></li></ul></li><li><a href="/LearnRoadRunner/dead-wheels.html" class="sidebar-link">Dead Wheels</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/dead-wheels.html#two-wheel-odometry" class="sidebar-link">Two-Wheel Odometry</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/dead-wheels.html#three-wheel-odometry" class="sidebar-link">Three-Wheel Odometry</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/dead-wheels.html#tuning-two-wheel" class="sidebar-link">Tuning - Two-Wheel</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/dead-wheels.html#tuning-three-wheel" class="sidebar-link">Tuning - Three-Wheel</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/dead-wheels.html#troubleshooting" class="sidebar-link">Troubleshooting</a></li></ul></li><li><a href="/LearnRoadRunner/feedforward-tuning.html" class="sidebar-link">Feedforward Tuning</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/feedforward-tuning.html#tuning" class="sidebar-link">Tuning</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/feedforward-tuning.html#troubleshooting" class="sidebar-link">Troubleshooting</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/feedforward-tuning.html#feedforward-tuning-simulator" class="sidebar-link">Feedforward Tuning Simulator</a></li></ul></li><li><a href="/LearnRoadRunner/straight-test.html" class="sidebar-link">Straight Test Tuning</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/straight-test.html#tuning-lateral-multiplier-dead-wheels" class="sidebar-link">Tuning Lateral Multiplier - Dead Wheels</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/straight-test.html#drive-encoder-localization" class="sidebar-link">Drive Encoder Localization</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/straight-test.html#troubleshooting" class="sidebar-link">Troubleshooting</a></li></ul></li><li><a href="/LearnRoadRunner/trackwidth-tuning.html" class="sidebar-link">Track Width Tuning</a></li><li><a href="/LearnRoadRunner/turn-test.html" class="sidebar-link">Turn Test Tuning</a></li><li><a href="/LearnRoadRunner/localization-test-2.html" class="sidebar-link">Localization Test 2*</a></li><li><a href="/LearnRoadRunner/follower-pid-tuning.html" class="sidebar-link">Follower PID Tuning</a></li><li><a href="/LearnRoadRunner/spline-test.html" class="sidebar-link">Spline Test</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/spline-test.html#diagnostic-tips" class="sidebar-link">Diagnostic Tips</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/spline-test.html#hiding-the-tuning-opmodes" class="sidebar-link">Hiding the tuning opmodes</a></li></ul></li><li><a href="/LearnRoadRunner/trajectories.html" class="sidebar-link">Trajectories Overview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectories.html#trajectories-vs-paths" class="sidebar-link">Trajectories vs Paths</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectories.html#vectors-and-poses" class="sidebar-link">Vectors and Poses</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectories.html#building-a-trajectory" class="sidebar-link">Building a Trajectory</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectories.html#path-continuity-exception" class="sidebar-link">Path Continuity Exception</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectories.html#set-pose-estimate" class="sidebar-link">Set Pose Estimate</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectories.html#running-multiple-trajectories" class="sidebar-link">Running Multiple Trajectories</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectories.html#trajectories-vs-turns" class="sidebar-link">Trajectories vs Turns</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectories.html#going-backwards" class="sidebar-link">Going Backwards</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectories.html#trajectories-after-turns" class="sidebar-link">Trajectories After Turns</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectories.html#slowing-down-a-trajectory" class="sidebar-link">Slowing Down a Trajectory</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectories.html#coordinate-system" class="sidebar-link">Coordinate System</a></li></ul></li><li><a href="/LearnRoadRunner/trajectorybuilder-functions.html" class="sidebar-link">TrajectoryBuilder Function List</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#forward-distance-double" class="sidebar-link">.forward(distance: Double)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#back-distance-double" class="sidebar-link">.back(distance: Double)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#strafeleft-distance-double" class="sidebar-link">.strafeLeft(distance: Double)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#straferight-distance-double" class="sidebar-link">.strafeRight(distance: Double)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#strafeto-endposition-vector2d" class="sidebar-link">.strafeTo(endPosition: Vector2d)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#lineto-endposition-vector2d" class="sidebar-link">.lineTo(endPosition: Vector2d)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#linetoconstantheading-endposition-vector2d" class="sidebar-link">.lineToConstantHeading(endPosition: Vector2d)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#linetolinearheading-endpose-pose2d" class="sidebar-link">.lineToLinearHeading(endPose: Pose2d)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#linetosplineheading-endpose-pose2d" class="sidebar-link">.lineToSplineHeading(endPose: Pose2d)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#splineto-endposition-vector2d-endtangent-double" class="sidebar-link">.splineTo(endPosition: Vector2d, endTangent: Double)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#splinetoconstantheading-endposition-vector2d-endtangent-double" class="sidebar-link">.splineToConstantHeading(endPosition: Vector2d, endTangent: Double)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#splinetolinearheading-endpose-pose2d-endtangent-double" class="sidebar-link">.splineToLinearHeading(endPose: Pose2d, endTangent: Double)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectorybuilder-functions.html#splinetosplineheading-endpose-pose2d-endtangent-double" class="sidebar-link">.splineToSplineHeading(endPose: Pose2d, endTangent: Double)</a></li></ul></li><li><a href="/LearnRoadRunner/markers.html" class="sidebar-link">Marker Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/markers.html#types-of-markers" class="sidebar-link">Types of Markers</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/markers.html#temporal-markers-basics" class="sidebar-link">Temporal Markers - Basics</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/markers.html#displacement-markers-basics" class="sidebar-link">Displacement Markers - Basics</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/markers.html#spatial-markers-basics" class="sidebar-link">Spatial Markers - Basics</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/markers.html#things-to-keep-in-mind" class="sidebar-link">Things to Keep In Mind</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/markers.html#advanced-marker-use" class="sidebar-link">Advanced Marker Use</a></li></ul></li><li><a href="/LearnRoadRunner/trajectory-sequence.html" aria-current="page" class="active sidebar-link">Trajectory Sequence</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#everything-from-the-trajectorybuilder-list" class="sidebar-link">Everything from the TrajectoryBuilder list</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#turn-radians" class="sidebar-link">.turn(radians)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#waitseconds-seconds" class="sidebar-link">.waitSeconds(seconds)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#addtemporalmarker-markercallback" class="sidebar-link">.addTemporalMarker(MarkerCallback)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#unstable-addtemporalmarkeroffset-offset-markercallback" class="sidebar-link">.UNSTABLE_addTemporalMarkerOffset(offset, MarkerCallback)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#unstable-adddisplacementmarkeroffset-offset-markercallback" class="sidebar-link">.UNSTABLE_addDisplacementMarkerOffset(offset, MarkerCallback)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#marker-use-examples" class="sidebar-link">Marker Use Examples</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#settangent-double" class="sidebar-link">.setTangent(double)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#setreversed-boolean" class="sidebar-link">.setReversed(boolean)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#setconstraints-trajectoryvelocityconstraint-trajectoryaccelerationconstraint" class="sidebar-link">.setConstraints(TrajectoryVelocityConstraint, TrajectoryAccelerationConstraint)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#resetconstraints" class="sidebar-link">.resetConstraints()</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#setvelconstraint-trajectoryvelocityconstraint" class="sidebar-link">.setVelConstraint(TrajectoryVelocityConstraint)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#resetvelconstraint" class="sidebar-link">.resetVelConstraint()</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#setaccelconstraint-trajectoryaccelerationconstraint" class="sidebar-link">.setAccelConstraint(TrajectoryAccelerationConstraint)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#resetaccelconstraint" class="sidebar-link">.resetAccelConstraint()</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#setturnconstraint-maxangvel-maxangaccel" class="sidebar-link">.setTurnConstraint(maxAngVel, maxAngAccel)</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#resetturnconstraint" class="sidebar-link">.resetTurnConstraint()</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/trajectory-sequence.html#addtrajectory-trajectory" class="sidebar-link">.addTrajectory(Trajectory)</a></li></ul></li><li><a href="/LearnRoadRunner/advanced.html" class="sidebar-link">Advanced Tips</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/advanced.html#using-road-runner-in-teleop" class="sidebar-link">Using Road Runner in Teleop</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/advanced.html#transferring-pose-between-opmodes" class="sidebar-link">Transferring Pose Between Opmodes</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/advanced.html#async-following" class="sidebar-link">Async Following</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/advanced.html#chaining-async-trajectories" class="sidebar-link">Chaining Async Trajectories</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/advanced.html#finite-state-machine-following" class="sidebar-link">Finite State Machine Following</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/advanced.html#admissible-error-and-timeout" class="sidebar-link">Admissible Error and Timeout</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/advanced.html#_180°-turn-direction" class="sidebar-link">180° Turn Direction</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/advanced.html#gain-scheduling" class="sidebar-link">Gain Scheduling</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/advanced.html#interrupting-a-live-trajectory" class="sidebar-link">Interrupting a Live Trajectory</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/advanced.html#automatic-driving-in-teleop" class="sidebar-link">Automatic Driving in Teleop</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/advanced.html#omniwheels" class="sidebar-link">OmniWheels</a></li></ul></li><li><a href="/LearnRoadRunner/tools.html" class="sidebar-link">Tools</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/tools.html#meepmeep" class="sidebar-link">MeepMeep</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/tools.html#road-runner-gui" class="sidebar-link">Road Runner GUI</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/tools.html#david-s-rrpathvisualizer" class="sidebar-link">David's RRPathVisualizer</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/tools.html#rrpathgen" class="sidebar-link">RRPathGen</a></li></ul></li><li><a href="/LearnRoadRunner/resources.html" class="sidebar-link">Further Resources</a></li><li><a href="/LearnRoadRunner/drive-velocity-pid-tuning.html" class="sidebar-link">Archived</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-velocity-pid-tuning.html#why-is-drivevelocitypid-not-used" class="sidebar-link">Why is DriveVelocityPID not used?</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-velocity-pid-tuning.html#drivevelocitypid-tuning" class="sidebar-link">DriveVelocityPID tuning</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-velocity-pid-tuning.html#tuning" class="sidebar-link">Tuning</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-velocity-pid-tuning.html#troubleshooting" class="sidebar-link">Troubleshooting</a></li><li class="sidebar-sub-header"><a href="/LearnRoadRunner/drive-velocity-pid-tuning.html#pid-tuning-simulator" class="sidebar-link">PID Tuning Simulator</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="trajectory-sequence"><a href="#trajectory-sequence" class="header-anchor">#</a> Trajectory Sequence</h1> <p>As of May 6, 2021, the <a href="https://github.com/acmerobotics/road-runner-quickstart/tree/quickstart1" target="_blank" rel="noopener noreferrer">Road Runner quickstart<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> includes a utility referred to as &quot;trajectory sequences.&quot; Trajectory sequences essentially splice trajectories together, automatically handling <a href="/LearnRoadRunner/trajectories.html#path-continuity-exception">path continuity exceptions</a>. In addition, it transforms turns and waits into &quot;first-class&quot; actions (within the quickstart, at least). This allows you to run your entire auto path in a single trajectory sequence, rather than splitting them into many different trajectories. Markers can now be embedded into any of these actions: trajectories, waits, and turns. This allows you to run actions <em>during</em> wait and turn actions without the need for async, concurrent code. However, this is only recommended for simple actions. More complex actions should still be handled via methods like <a href="/LearnRoadRunner/advanced.html#async-following">concurrent finite state machines</a>. As a bonus, trajectory sequences also allow for more advanced dashboard field drawings!</p> <p>Here's a contrived example of the improvements that come with trajectory sequences.</p> <p><strong>Before</strong> Trajectory Sequence:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WorldChampionshipAuto</span> <span class="token keyword">extends</span> <span class="token class-name">LinearOpMode</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runOpMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">SampleMecanumDrive</span> drive <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SampleMecanumDrive</span><span class="token punctuation">(</span>hardwareMap<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Pose2d</span> startPose <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pose2d</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ElapsedTime</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ElapsedTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        drive<span class="token punctuation">.</span><span class="token function">setPoseEstimate</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Trajectory</span> traj1 <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectoryBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">splineTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector2d</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Trajectory</span> traj2 <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectoryBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">splineTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector2d</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Trajectory</span> traj3 <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectoryBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// strafeRight(10) cannot be included in traj3 as it throws a PathContinuityException</span>
        <span class="token class-name">Trajectory</span> traj4 <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectoryBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">strafeRight</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Trajectory</span> traj5 <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectoryBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">strafeRight</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Trajectory</span> traj6 <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectoryBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">splineToLinearHeading</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Pose2d</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">waitForStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isStopRequested</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>

        drive<span class="token punctuation">.</span><span class="token function">followTrajectory</span><span class="token punctuation">(</span>traj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        drive<span class="token punctuation">.</span><span class="token function">turn</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        drive<span class="token punctuation">.</span><span class="token function">followTrajectory</span><span class="token punctuation">(</span>traj2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        timer<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>timer<span class="token punctuation">.</span><span class="token function">seconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> drive<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        drive<span class="token punctuation">.</span><span class="token function">turn</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        drive<span class="token punctuation">.</span><span class="token function">followTrajectory</span><span class="token punctuation">(</span>traj3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        drive<span class="token punctuation">.</span><span class="token function">followTrajectory</span><span class="token punctuation">(</span>traj4<span class="token punctuation">)</span><span class="token punctuation">;</span>
        drive<span class="token punctuation">.</span><span class="token function">turn</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        drive<span class="token punctuation">.</span><span class="token function">followTrajectory</span><span class="token punctuation">(</span>traj5<span class="token punctuation">)</span><span class="token punctuation">;</span>

        timer<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>timer<span class="token punctuation">.</span><span class="token function">seconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> drive<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        drive<span class="token punctuation">.</span><span class="token function">followTrajectory</span><span class="token punctuation">(</span>traj6<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>After</strong> Trajectory Sequence:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WorldChampionshipAuto</span> <span class="token keyword">extends</span> <span class="token class-name">LinearOpMode</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runOpMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">SampleMecanumDrive</span> drive <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SampleMecanumDrive</span><span class="token punctuation">(</span>hardwareMap<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Pose2d</span> startPose <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pose2d</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        drive<span class="token punctuation">.</span><span class="token function">setPoseEstimate</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">TrajectorySequence</span> trajSeq <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectorySequenceBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">splineTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector2d</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">turn</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">splineTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector2d</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">waitSeconds</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">turn</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">strafeRight</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">turn</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">strafeLeft</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">waitSeconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">splineToLinearHeading</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Pose2d</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">waitForStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isStopRequested</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          drive<span class="token punctuation">.</span><span class="token function">followTrajectorySequence</span><span class="token punctuation">(</span>trajSeq<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>Let's quickly go over how trajectory sequences work internally. The foundation is actually quite simple. The <code>TrajectorySequenceBuilder</code> will continually build trajectories and swallow any <code>PathContinuityException</code>s. It creates a new segment and starts building from the latest one. This does not solve any of your continuity exception woes. Trajectories will still decelerate if they are not continuous. You should still be mindful of how this works. Check out the brief overview <a href="/LearnRoadRunner/trajectories.html#path-continuity-exception">here</a> if you need a quick refresher. The base level trajectory splicing is simply syntactic sugar for chaining trajectories. This can be replicated with a simple queue like so:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Trajectory</span><span class="token punctuation">&gt;</span></span> trajectoryQueue<span class="token punctuation">;</span>

trajectoryQueue<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>trajectory1<span class="token punctuation">)</span><span class="token punctuation">;</span>
trajectoryQueue<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>trajectory2<span class="token punctuation">)</span><span class="token punctuation">;</span>
trajectoryQueue<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>trajectory3<span class="token punctuation">)</span><span class="token punctuation">;</span>
trajectoryQueue<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>trajectory4<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>trajectoryQueue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    drive<span class="token punctuation">.</span><span class="token function">followTrajectory</span><span class="token punctuation">(</span>trajectoryQueue<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>That's it! You've made your own trajectory sequence. What does this lack though? All the cool features! It doesn't have automatic splicing, waits, turns, and embedded markers inside those actions! Let's check those out.</p> <div class="flex justify-center my-8"><iframe width="560" height="315" src="https://www.youtube.com/embed/BF_C4szJ4vU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen="allowfullscreen"></iframe></div> <p>Once you're familiar with <code>TrajectorySequence</code>, check out <a href="/LearnRoadRunner/tool/meepmeep.html#meepmeep">MeepMeep</a> to build and visualize your trajectories!</p> <h2 id="everything-from-the-trajectorybuilder-list"><a href="#everything-from-the-trajectorybuilder-list" class="header-anchor">#</a> Everything from the TrajectoryBuilder list</h2> <p><code>TrajectorySequenceBuilder</code> mirrors the entire <code>TrajectoryBuilder</code> api. Please refer to the <a href="/LearnRoadRunner/trajectorybuilder-functions.html">TrajectoryBuilder</a> function list for further details and visualizations.</p> <h2 id="turn-radians"><a href="#turn-radians" class="header-anchor">#</a> <code>.turn(radians)</code></h2> <p><code>TrajectorySequenceBuilder</code> uses the generic Road Runner turn function. This is found in the <code>TrajectorySequenceRunner</code> file. See <a href="https://github.com/NoahBres/road-runner-quickstart/blob/d7d3c43715770c71bba43c45082a74803751928e/TeamCode/src/main/java/org/firstinspires/ftc/teamcode/trajectorysequence/TrajectorySequenceRunner.java#L140" target="_blank" rel="noopener noreferrer">lines 140-164<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for implementation details. This does not differ from the prior implementation, previously found in <code>SampleMecanumDrive</code>. This turn function is quite a naive implementation and users may feel the need to supplement it with additional logic such as a timeout or a static feedforward. These improvements have not been standardized and merged into the quickstart. If you feel that you have a solid implementation, feel free to pull request the quickstart. Moreover, all the logic is on the quickstart side and entirely user-edittable. Users are encouraged to make their own improvements if need-be.</p> <p><strong>Turn example usage:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">TrajectorySequence</span> ts <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectorySequenceBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">turn</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Turns 45 degrees counter-clockwise</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

drive<span class="token punctuation">.</span><span class="token function">followTrajectorySequence</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="waitseconds-seconds"><a href="#waitseconds-seconds" class="header-anchor">#</a> <code>.waitSeconds(seconds)</code></h2> <p><code>TrajectorySequenceBuilder</code> allows for simple wait segments. Not much to it. This is useful for running actions in between trajectories. Markers can be run during wait segments.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">TrajectorySequence</span> ts <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectorySequenceBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">waitSeconds</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// Waits 3 seconds</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Ensure that you are using <code>waitSeconds()</code> and not <code>wait()</code>. All Java objects have a <code>wait()</code> function which causes the current thread to wait until another thread invokes a <code>notify()</code> or <code>notifyAll()</code> method. See further details in the <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()" target="_blank" rel="noopener noreferrer">Oracle JavaDoc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. We don't care for this function but it does show up in intellisense. Make sure you are using the <code>waitSeconds()</code> function instead of <code>wait()</code></p></div> <h3 id="sequencebuilder-specific-markers"><a href="#sequencebuilder-specific-markers" class="header-anchor">#</a> SequenceBuilder Specific Markers</h3> <p><code>TrajectorySequenceBuilder</code> comes with all the standard markers found in normal trajectories. Check those out <a href="/LearnRoadRunner/markers.html">here</a> if you need a quick refresher on that. However, <code>TrajectorySequenceBuilder</code> also comes with a few of its own, making markers very powerful and flexible.</p> <h2 id="addtemporalmarker-markercallback"><a href="#addtemporalmarker-markercallback" class="header-anchor">#</a> <code>.addTemporalMarker(MarkerCallback)</code></h2> <p>The <code>addTemporalMarker(MarkerCallback)</code> function without a double parameter does not actually exist in <code>TrajectoryBuilder</code>. This is becaues in normal trajectories, the functionality would be identical to <code>.addDisplacementMarker(MarkerCallback)</code>. However, in <code>TrajectorySequence</code>, displacement and duration actually differ. <code>addTemporalMarker(MarkerCallback)</code> is preferred over <code>addDisplacementMarker(MarkerCallback)</code> to avoid any confusion between displacement and duration. The difference is that turns and waits do not increase displacement while they do add to duration. So, the behavior will differ and if you do not understand this difference as it works internally, it will result in confusion. Check out <a href="https://www.youtube.com/watch?v=BF_C4szJ4vU" target="_blank" rel="noopener noreferrer">this video<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for a visual explanation of this behavior.</p> <h2 id="unstable-addtemporalmarkeroffset-offset-markercallback"><a href="#unstable-addtemporalmarkeroffset-offset-markercallback" class="header-anchor">#</a> <code>.UNSTABLE_addTemporalMarkerOffset(offset, MarkerCallback)</code></h2> <p>This function allows you to set a marker at the current duration plus the offset. This differs from <code>.addTemporalMarker(double, MarkerCallback)</code> because the double in that function runs <code>x</code> seconds relative to the <em>ENTIRE</em> trajectory while <code>.UNSTABLE_addTemporalMarkerOffset(offset, MarkerCallback)</code> runs <code>x</code> seconds relative to where it was called. The <code>.UNSTABLE_addTemporalMarkerOffset(offset, MarkerCallback)</code> with an offset of zero is equivalent in functionality to <code>.addTemporalMarker(MarkerCallback)</code></p> <div class="language-java extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br></div><pre class="language-java"><code><span class="token comment">// Example 1</span>
<span class="token comment">// .addTemporalMarker(double, MarkerCallback)</span>
drive<span class="token punctuation">.</span><span class="token function">trajectorySequenceBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">splineTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector2d</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addTemporalMarker</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strafeRight</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">turn</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Example 2</span>
<span class="token comment">// .UNSTABLE_addTemporalMarkerOffset(double, MarkerCallback)</span>
drive<span class="token punctuation">.</span><span class="token function">trajectorySequenceBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">splineTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector2d</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addTemporalMarkerOffset</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strafeRight</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">turn</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In example 1, the marker will run 3 seconds into the <em>ENTIRE</em> trajectory. The placement of the marker has no effect on when the marker will run. In example 2, the marker will run at whatever time <em>AFTER</em> the first <code>splineTo()</code> PLUS 3 seconds. So this marker will run during the <code>strafeRight()</code> trajectory. This offset can be adjusted for fine-tuning. This means that the placement of this marker does matter.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This method is marked <code>UNSTABLE</code> as it is subject to change in any future release.</p></div> <h2 id="unstable-adddisplacementmarkeroffset-offset-markercallback"><a href="#unstable-adddisplacementmarkeroffset-offset-markercallback" class="header-anchor">#</a> <code>.UNSTABLE_addDisplacementMarkerOffset(offset, MarkerCallback)</code></h2> <p>This function allows you to set a marker at the current displacement plus the offset. This differs from <code>.addDisplacementMarker(double, MarkerCallback)</code> because the double in that function runs <code>x</code> displacement relative to the <em>ENTIRE</em> trajectory while <code>.UNSTABLE_addDisplacementMarkerOffset(offset, MarkerCallback)</code> runs <code>x</code> displacement relative to where it was called. The <code>.UNSTABLE_addDisplacementMarkerOffset(offset, MarkerCallback)</code> with an offset of zero is equivalent in functionality to <code>.addDisplacementMarker(MarkerCallback)</code></p> <div class="language-java extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br></div><pre class="language-java"><code><span class="token comment">// Example 1</span>
<span class="token comment">// .addDisplacementMarker(double, MarkerCallback)</span>
drive<span class="token punctuation">.</span><span class="token function">trajectorySequenceBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">splineTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector2d</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addDisplacementMarker</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strafeRight</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">turn</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Example 2</span>
<span class="token comment">// .UNSTABLE_addDisplacementMarkerOffset(double, MarkerCallback)</span>
drive<span class="token punctuation">.</span><span class="token function">trajectorySequenceBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">splineTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector2d</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addDisplacementMarkerOffset</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strafeRight</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">turn</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In example 1, the marker will run 3 inches into the <em>ENTIRE</em> trajectory. The placement of the marker has no effect on when the marker will run. In example 2, the marker will run at whatever time <em>AFTER</em> the first <code>splineTo()</code> PLUS 3 inches. So this marker will run during the <code>strafeRight()</code> trajectory. This offset can be adjusted for fine-tuning. This means that the placement of this marker does matter.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This method is marked <code>UNSTABLE</code> as it is subject to change in any future release.</p></div> <h2 id="marker-use-examples"><a href="#marker-use-examples" class="header-anchor">#</a> Marker Use Examples</h2> <p>The ability to implement relative offsets is a powerful feature that allows us to embed our entire auto logic within a trajectory sequence. In conventional trajectories, your mechanism logic was entirely divorced and had to be handled outside of following entirely. Alternatively, for more complex behaviors, one had to run some form of concurrent scheduling—State Machines being the popular choice for FTC code. The latter is still preferred for complex behaviors, but Trajectory Sequence will make calling those much easier. Let's take a look at some basic sample code.</p> <p>Say we want to have a basic auto where we go forward, lower servo, wait, raise the servo, and then strafe.
Here's how that would be accomplished.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">TrajectorySequence</span> trajSeq <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectorySequenceBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addTemporalMarker</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Lower servo</span>
    <span class="token punctuation">.</span><span class="token function">waitSeconds</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addTemporalMarker</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Raise servo</span>
    <span class="token punctuation">.</span><span class="token function">strafeRight</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Easy as that! But that wasn't difficult with the previous non-TrajectorySequence code. It was definitely less clean but the implementation wasn't that difficult.</p> <p>Let's look at something a little more complex.</p> <p>Say we have the same auto where we go forward, lower the servo, wait, raise the servo, and then strafe. But, we want to start lowering the servo before we finish our trajectory and we want to raise the servo a little bit before the wait ends so the servo is already raised when we start our strafe.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">TrajectorySequence</span> trajSeq <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectorySequenceBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addTemporalMarkerOffset</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Lower servo</span>
    <span class="token punctuation">.</span><span class="token function">waitSeconds</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addTemporalMarkerOffset</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Raise servo</span>
    <span class="token punctuation">.</span><span class="token function">strafeRight</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The code above runs the first marker 0.5 seconds before the end of the <code>forward()</code> trajectory. If we wanted to run the servo action 0.5 seconds into the <code>waitSeconds()</code> segment, we flip the sign so the offset is <code>0.5</code>. The second marker runs 0.3 seconds before the <code>waitSeconds()</code> is over. This way, the servo will have already finished moving when the <code>strafeRight()</code> starts.</p> <p>Let's look at another scenario. Say we want to move forward, wait, and then strafe right. But, we want to fire two shots during our wait. We need 4 servo actions for this. Move out, move in, move out, move in.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">TrajectorySequence</span> trajSeq <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectorySequenceBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addTemporalMarkerOffset</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// Push servo out</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addTemporalMarkerOffset</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Bring servo in</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addTemporalMarkerOffset</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// Push servo out</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addTemporalMarkerOffset</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Bring servo in</span>
    <span class="token punctuation">.</span><span class="token function">waitSeconds</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// Markers must be placed before waitSeconds()</span>
    <span class="token punctuation">.</span><span class="token function">strafeRight</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The first marker will run as <code>waitSeconds()</code> starts, the second marker will run <code>0.5</code> seconds into <code>waitSeconds()</code>, the third marker will run <code>1</code> second into <code>waitSeconds()</code>, and then the fourth marker will run <code>1.5</code> seconds into <code>waitSeconds()</code>.</p> <p>Notice how the markers are declared <em>before</em> <code>waitSeconds()</code>. This is important as it sets the relative position of the markers at the beginning of <code>waitSeconds()</code>. Moving the markers <em>after</em> <code>waitSeconds()</code> will cause the markers to be run during the <code>strafeRight</code>. Alternatively, one could use negative offsets to accomplish equivalent functionality. The following code will run the same as the code above.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">double</span> waitTime <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token class-name">TrajectorySequence</span> trajSeq <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token function">trajectorySequenceBuilder</span><span class="token punctuation">(</span>startPose<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">waitSeconds</span><span class="token punctuation">(</span>waitTime<span class="token punctuation">)</span> <span class="token comment">// Markers are now placed after waitSeconds()</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addTemporalMarkerOffset</span><span class="token punctuation">(</span><span class="token operator">-</span>waitTime<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token comment">// Push servo out</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addTemporalMarkerOffset</span><span class="token punctuation">(</span><span class="token operator">-</span>waitTime <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Bring servo in</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addTemporalMarkerOffset</span><span class="token punctuation">(</span><span class="token operator">-</span>waitTime <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// Push servo out</span>
    <span class="token punctuation">.</span><span class="token function">UNSTABLE_addTemporalMarkerOffset</span><span class="token punctuation">(</span><span class="token operator">-</span>waitTime <span class="token operator">+</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> servo<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Bring servo in</span>
    <span class="token punctuation">.</span><span class="token function">strafeRight</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>It is still recommended that any complex sequential code be handled in its own state machine or alternative concurrent code</p></div> <h2 id="settangent-double"><a href="#settangent-double" class="header-anchor">#</a> <code>.setTangent(double)</code></h2> <p><code>.setTangent(double)</code> allows you to set a heading tangent on a trajectory, allowing you to follow a trajectory at arbitrary heading tangents.</p> <p>This is equivalent to specifying a custom tangent in the <code>TrajectoryBuilder()</code> constructor</p> <h2 id="setreversed-boolean"><a href="#setreversed-boolean" class="header-anchor">#</a> <code>.setReversed(boolean)</code></h2> <p><code>.setReversed(true/false)</code> allows you set run your trajectory with the bot facing backwards.</p> <h2 id="setconstraints-trajectoryvelocityconstraint-trajectoryaccelerationconstraint"><a href="#setconstraints-trajectoryvelocityconstraint-trajectoryaccelerationconstraint" class="header-anchor">#</a> <code>.setConstraints(TrajectoryVelocityConstraint, TrajectoryAccelerationConstraint)</code></h2> <p><code>.setConstraints(TrajectoryVelocityConstraint, TrajectoryAccelerationConstraint)</code> allows you to temporary override the constraints to specify slower/faster portions in a trajectory or segment.</p> <h2 id="resetconstraints"><a href="#resetconstraints" class="header-anchor">#</a> <code>.resetConstraints()</code></h2> <p><code>.resetConstraints()</code> clears any temporary constraints set by <code>setConstraints()</code>. This uses the base constraints specified in the <code>TrajectorySequenceBuilder()</code> constructor.</p> <h2 id="setvelconstraint-trajectoryvelocityconstraint"><a href="#setvelconstraint-trajectoryvelocityconstraint" class="header-anchor">#</a> <code>.setVelConstraint(TrajectoryVelocityConstraint)</code></h2> <p><code>.setVelConstraint(TrajectoryVelocityConstraint)</code> temporarily sets only the velocity constraint.</p> <h2 id="resetvelconstraint"><a href="#resetvelconstraint" class="header-anchor">#</a> <code>.resetVelConstraint()</code></h2> <p><code>.resetVelConstrain()</code> clears any temporary velocity constraints set by <code>setConstraints()</code> or <code>setVelConstraint()</code>. This uses the base velocity constraint specified in the <code>TrajectorySequenceBuilder()</code> constructor.</p> <h2 id="setaccelconstraint-trajectoryaccelerationconstraint"><a href="#setaccelconstraint-trajectoryaccelerationconstraint" class="header-anchor">#</a> <code>.setAccelConstraint(TrajectoryAccelerationConstraint)</code></h2> <p><code>.setAccelConstraint(TrajectoryAccelerationConstraint)</code> temporarily sets only the acceleration constraint.</p> <h2 id="resetaccelconstraint"><a href="#resetaccelconstraint" class="header-anchor">#</a> <code>.resetAccelConstraint()</code></h2> <p><code>.resetAccelConstrain()</code> clears any temporary velocity constraints set by <code>setConstraints()</code> or <code>setAccelConstraint()</code>. This uses the base acceleration constraint specified in the <code>TrajectorySequenceBuilder()</code> constructor.</p> <h2 id="setturnconstraint-maxangvel-maxangaccel"><a href="#setturnconstraint-maxangvel-maxangaccel" class="header-anchor">#</a> <code>.setTurnConstraint(maxAngVel, maxAngAccel)</code></h2> <p><code>.setTurnConstraint(maxAngVel, maxAngAccel)</code> temporarily sets the turn constraints, used only in the turn function.</p> <h2 id="resetturnconstraint"><a href="#resetturnconstraint" class="header-anchor">#</a> <code>.resetTurnConstraint()</code></h2> <p><code>.resetTurnConstraint()</code> clears any temporary turn constraints, set by <code>setTurnConstraint()</code></p> <h2 id="addtrajectory-trajectory"><a href="#addtrajectory-trajectory" class="header-anchor">#</a> <code>.addTrajectory(Trajectory)</code></h2> <p><code>.addTrajectory(Trajectory)</code> pushes a new <code>Trajectory</code> segment onto the sequence.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/NoahBres/LearnRoadRunner/edit/master/docs/trajectory-sequence.md" target="_blank" rel="noopener noreferrer">Edit this page on Github!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/7/2023, 7:59:46 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/LearnRoadRunner/markers.html" class="prev">
        Marker Guide
      </a></span> <span class="next"><a href="/LearnRoadRunner/advanced.html">
        Advanced Tips
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/LearnRoadRunner/assets/js/app.70b0e82d.js" defer></script><script src="/LearnRoadRunner/assets/js/3.cb25a48f.js" defer></script><script src="/LearnRoadRunner/assets/js/52.a8914b8a.js" defer></script>
  </body>
</html>
